<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Royal Bakes POS</title>
    
    <link rel="stylesheet" href="style.css">
    <script src="js/html2canvas.min.js"></script> 
    
     
</head>
<body>

    <div class="app-container">
        <header>
            <div class="brand">
                üçû Royal Bakes
            </div>
            <div id="shift-status-badge" class="badge badge-off">Shift Closed</div>
        </header>

        <nav class="nav-scroll">
            <button class="nav-btn active" onclick="switchTab('pos')">üõí POS</button>
            <button class="nav-btn" onclick="switchTab('receipts')">üßæ Receipts</button>
            <button class="nav-btn" onclick="switchTab('summary')">üìä Summary</button>
            <button class="nav-btn" onclick="switchTab('stock')">üì¶ Stock</button>
            <button class="nav-btn" onclick="switchTab('expenses')">üí∏ Expenses</button>
            <button class="nav-btn" onclick="switchTab('shift')">üßë‚Äçüíª Shift</button>
        </nav>

        <main>
            <div id="pos" class="tab-content active">
                <div class="pos-container">
                    <div class="products-area">
                        <div id="products-grid" class="glide-grid"></div>
                    </div>
                    
                    <div class="cart-area">
                        <div class="cart-header">
                            <h3>Current Order</h3>
                            <button onclick="clearCart()" class="btn-xs btn-danger">üóëÔ∏è</button>
                        </div>
                        <div id="cart-items" class="cart-list"></div>
                        
                        <div class="cart-footer">
                            <div class="total-row">
                                <span>Total:</span>
                                <span id="cart-total-display">0 RWF</span>
                            </div>
                            <div class="payment-methods">
                                <label class="radio-box">
                                    <input type="radio" name="payment" value="cash" checked>
                                    <span>Cash</span>
                                </label>
                                <label class="radio-box">
                                    <input type="radio" name="payment" value="momo">
                                    <span>MoMo</span>
                                </label>
                            </div>
                            <button id="checkout-btn" class="btn-block btn-primary" onclick="processCheckout()" disabled>
                                Checkout
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="receipts" class="tab-content">
                <div class="toolbar">
                    <input type="date" id="receipt-date" class="form-input">
                    <button onclick="loadReceipts()" class="btn-sm btn-secondary">Filter</button>
                </div>
                <div id="receipts-list" class="list-group"></div>
            </div>

            <div id="summary" class="tab-content">
                <div class="toolbar">
                    <input type="date" id="summary-start" class="form-input">
                    <input type="date" id="summary-end" class="form-input">
                    <button onclick="generateSummary()" class="btn-sm btn-secondary">Go</button>
                </div>
                
                <div class="actions-row">
                    <button onclick="shareSummaryWhatsApp()" class="btn-whatsapp">üí¨ WhatsApp</button>
                    <button onclick="exportElementAsImage('capture-summary', 'Sales_Summary')" class="btn-export">üñºÔ∏è Save Image</button>
                </div>

                <div id="capture-summary" class="printable-card">
                    <div id="summary-content">
                        <p class="placeholder-text">Select dates and click Filter.</p>
                    </div>
                </div>
            </div>

            <div id="stock" class="tab-content">
                <div class="add-form">
                    <input type="text" id="stock-name" placeholder="Item Name" class="form-input">
                    <input type="number" id="stock-price" placeholder="Price" class="form-input">
                    <input type="text" id="stock-qty" placeholder="Qty (or 'unlimited')" class="form-input">
                    <button onclick="addStockItem()" class="btn-sm btn-primary">‚ûï Add</button>
                </div>
                <div id="stock-list" class="list-group"></div>
            </div>

            <div id="expenses" class="tab-content">
                <div class="add-form">
                    <input type="text" id="expense-desc" placeholder="Description" class="form-input">
                    <input type="number" id="expense-amt" placeholder="Amount" class="form-input">
                    <button onclick="addExpense()" class="btn-sm btn-primary">‚ûï Add Expense</button>
                </div>
                <div id="expenses-list" class="list-group"></div>
            </div>

            <div id="shift" class="tab-content">
                <div id="shift-controls" class="shift-controls">
                    <button id="btn-start-shift" onclick="startShift()" class="btn-block btn-success">Start Shift</button>
                    <button id="btn-end-shift" onclick="endShift()" class="btn-block btn-danger" disabled>End Shift</button>
                </div>

                <div id="shift-actions" class="actions-row" style="display:none;">
                    <button onclick="shareShiftWhatsApp()" class="btn-whatsapp">üí¨ WhatsApp</button>
                    <button onclick="exportElementAsImage('capture-shift', 'Shift_Report')" class="btn-export">üñºÔ∏è Save Image</button>
                </div>

                <div id="capture-shift" class="printable-card shift-report-container">
                    <div id="shift-report-content">
                        <p class="placeholder-text">No active shift data.</p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <div id="modal-overlay" class="modal-overlay">
        <div class="modal-card">
            <div class="modal-header">
                <h3>Receipt</h3>
                <button onclick="closeModal()" class="close-btn">&times;</button>
            </div>
            <div id="modal-body" class="modal-body"></div>
            <div class="modal-footer">
                <button id="btn-refund" class="btn-sm btn-danger" style="display:none;">Refund</button>
                <button onclick="closeModal()" class="btn-sm btn-secondary">Close</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
